(this.webpackJsonpshopbridge=this.webpackJsonpshopbridge||[]).push([[0],{10:function(e,t,n){e.exports={itemRow:"ItemRow_itemRow__3ZpUV"}},17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(11),i=n.n(a),u=(n(17),n(18),n(4)),s=n.n(u),l=n(12),o=n(2),j=n(5),d=n(3);function b(e){return JSON.parse(JSON.stringify(e))}var p=[{id:1,name:"pen",price:33.25,quantity:50},{id:2,name:"pencil",price:5,quantity:200},{id:3,name:"ream of paper",price:25,quantity:20}],O=4;function h(e){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.a)(Object(o.a)({},t),{},{id:O}),O++,p.push(n),e.abrupt("return",b(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(j.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(p));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(s.a.mark((function e(t,n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=p.find((function(e){return e.id===t}))){e.next=4;break}return console.error("Item of id (".concat(t,") not found.")),e.abrupt("return",!1);case 4:return c=Object(o.a)(Object(o.a)({},c),n),e.abrupt("return",b(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(j.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.splice(p.indexOf((function(e){return e.id===t})),1),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return e?"":"Name required"}function w(e){return/^\d*\.?\d+/.test(e)||/^\d+\.?\d*/.test(e)?"":"Price is not valid"}function q(e){return/^\d+/.test(e)?"":"Quantity is not valid"}var g=n(0);function _(e){var t=e.doCreateItem,n=Object(c.useState)({name:"",price:""}),r=Object(d.a)(n,2),a=r[0],i=r[1],u=Object(c.useState)(""),s=Object(d.a)(u,2),l=s[0],j=s[1],b=Object(c.useState)(!1),p=Object(d.a)(b,2),O=p[0],h=p[1],f=Object(c.useState)(!1),m=Object(d.a)(f,2),x=m[0],v=m[1],_=Object(c.useState)(!1),C=Object(d.a)(_,2),N=C[0],I=C[1];return Object(c.useEffect)((function(){var e=y(a.name),t=w(a.price),n=q(a.quantity);h(!!e),v(!!t),I(!!n)}),[a]),Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("input",{className:O?"invalid-input":null,type:"text",placeholder:"name",value:a.name,onChange:function(e){return i(Object(o.a)(Object(o.a)({},a),{},{name:e.target.value}))},required:!0})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{style:{width:"90%"},className:x?"invalid-input":null,type:"number",placeholder:"price",value:a.price,onChange:function(e){return i(Object(o.a)(Object(o.a)({},a),{},{price:e.target.value}))},required:!0})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{style:{width:"90%"},className:N?"invalid-input":null,type:"number",placeholder:"quantity",value:a.quantity,onChange:function(e){return i(Object(o.a)(Object(o.a)({},a),{},{quantity:e.target.value}))},required:!0})}),Object(g.jsxs)("td",{children:[Object(g.jsx)("button",{onClick:function(e){e.preventDefault();var n=y(a.name),c=w(a.price),r=q(a.quantity);n||c||r?j(n||c||r):(j(""),t(a))},children:"Add Item"}),Object(g.jsx)("em",{children:Object(g.jsxs)("small",{children:[" ",l]})})]})]})}var C=n(10),N=n.n(C);function I(e){var t,n=e.item,r=e.doDeleteItem,a=e.doUpdateItem,i=Object(c.useState)(null),u=Object(d.a)(i,2),s=u[0],l=u[1],j=Object(c.useState)({name:n.name,price:n.price,quantity:n.quantity}),b=Object(d.a)(j,2),p=b[0],O=b[1],h=Object(c.useState)(""),f=Object(d.a)(h,2),m=(f[0],f[1]),x=Object(c.useState)(!1),v=Object(d.a)(x,2),_=v[0],C=v[1],I=Object(c.useState)(!1),k=Object(d.a)(I,2),S=k[0],E=k[1],D=Object(c.useState)(!1),J=Object(d.a)(D,2),R=J[0],A=J[1],P="DELETE",T="EDIT";switch(Object(c.useEffect)((function(){var e=y(p.name),t=w(p.price),n=q(p.quantity);C(!!e),E(!!t),A(!!n)}),[p]),s){case P:t=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{style:{backgroundColor:"red"},onClick:function(){r(n.id),l(null)},children:"Confirm DELETE"}),Object(g.jsx)("button",{onClick:function(){return l(null)},children:"cancel"})]});break;case T:t=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{onClick:function(){!function(){var e=y(p.name),t=w(p.price),c=q(p.quantity);e||t||c?m(e||t||c):(m(""),a(n.id,p),l(null))}(n.id)},children:"Save Data"}),Object(g.jsx)("button",{onClick:function(){return l(null)},children:"Cancel"})]});break;default:t=Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{"data-testid":"delete-button",onClick:function(){return l(P)},children:"Delete"}),Object(g.jsx)("button",{onClick:function(){return l(T)},children:"Edit"})]})}return s===T?Object(g.jsxs)("tr",{className:N.a.itemRow,children:[Object(g.jsx)("td",{children:Object(g.jsx)("input",{style:{width:"90%"},className:_?"invalid-input":null,type:"text",placeholder:"name",value:p.name,onChange:function(e){return O(Object(o.a)(Object(o.a)({},p),{},{name:e.target.value}))},required:!0})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{style:{width:"90%"},className:S?"invalid-input":null,type:"number",placeholder:"price",value:p.price,onChange:function(e){return O(Object(o.a)(Object(o.a)({},p),{},{price:e.target.value}))},required:!0})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{style:{width:"90%"},className:R?"invalid-input":null,type:"number",placeholder:"quantity",value:p.quantity,onChange:function(e){return O(Object(o.a)(Object(o.a)({},p),{},{quantity:e.target.value}))},required:!0})}),Object(g.jsx)("td",{children:t})]}):Object(g.jsxs)("tr",{className:N.a.itemRow,children:[Object(g.jsx)("td",{"data-testid":"name-cell",children:n.name}),Object(g.jsx)("td",{children:n.price}),Object(g.jsx)("td",{children:n.quantity}),Object(g.jsx)("td",{children:t})]})}var k=n(6),S=n.n(k);function E(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];function a(e){return i.apply(this,arguments)}function i(){return(i=Object(j.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:n=e.sent,r((function(e){return[].concat(Object(l.a)(e),[n])}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){r((function(t){return t.filter((function(t){return t.id!==e}))})),function(e){v.apply(this,arguments)}(e)}function b(e,t){r((function(n){return n.map((function(n){return n.id===e?Object(o.a)(Object(o.a)({},n),t):n}))})),function(e,t){x.apply(this,arguments)}(e,t)}return Object(c.useEffect)((function(){(function(){return m.apply(this,arguments)})().then((function(e){return r(e)})).catch((function(e){return console.error(e)}))}),[]),Object(g.jsx)("div",{className:S.a.tableWrapper,children:Object(g.jsxs)("table",{className:S.a.table,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:S.a.col1,children:"Name"}),Object(g.jsx)("td",{className:S.a.col2,children:"Price"}),Object(g.jsx)("td",{className:S.a.col3,children:"Quantity"}),Object(g.jsx)("td",{className:S.a.col4,children:"Actions"})]})}),Object(g.jsxs)("tbody",{children:[Object(g.jsx)(_,{doCreateItem:a}),n.length?n.map((function(e){return Object(g.jsx)(I,{item:e,doCreateItem:a,doDeleteItem:u,doUpdateItem:b},e.id)})):Object(g.jsx)("tr",{children:Object(g.jsx)("td",{children:"No items"})})]})]})})}var D=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"Inventory Management"}),Object(g.jsx)(E,{})]})};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(D,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={tableWrapper:"Inventory_tableWrapper__1EwJo",table:"Inventory_table__4paOY",col1:"Inventory_col1__8wYXG",col2:"Inventory_col2__1PGRV",col3:"Inventory_col3__1jaJr",col4:"Inventory_col4__3Cxil"}}},[[21,1,2]]]);
//# sourceMappingURL=main.fd661291.chunk.js.map